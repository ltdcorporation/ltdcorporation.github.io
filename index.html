<!doctype html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Lust to Death — Pusat info resmi (18+). Link channel & bot terbaru ada di sini. Kalo pindah/kena report, update selalu di sini." />
    <meta name="robots" content="index,follow" />
    <title>Lust to Death — Pusat Info Resmi (18+)</title>
    <style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
:root {
  --bg:#14191f;
  --panel:#1b2028;
  --panel-alt:#1f252e;
  --border:#212831;
  --text:#ddd;
  --muted:#6c7e93;
  --accent:#e85578;
  --accent-hover:#e53f66;
  --accent-active:#e22854;
  --shadow:0 18px 40px rgba(0,0,0,0.35);
  --control-bg:#1b2028;
  --control-bg-light:#212831;
  --text-on-dark:#14191f;
}
* {
  box-sizing:border-box;
}
body {
  margin:0;
  min-height:100vh;
  background:var(--bg);
  color:var(--text);
  font-family:'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  line-height:1.55;
}
a {
  color:var(--accent);
  text-decoration:none;
  transition:color .2s ease, background .2s ease;
}
a:hover {
  color:var(--accent-hover);
}
.wrap {
  max-width:860px;
  margin:0 auto;
  padding:32px 24px 56px;
}
header {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;
  text-align:center;
  margin:12px 0 24px;
}
#logo {
  display:none;
  width:80px;
  height:80px;
  border-radius:50%;
  object-fit:cover;
  border:2px solid var(--accent);
  box-shadow:0 10px 24px rgba(232,85,120,0.2);
  background:var(--panel-alt);
}
#brand {
  font-size:2.4rem;
  margin:0;
  color:#fff;
  letter-spacing:-0.01em;
  font-weight:700;
}
p.sub {
  margin:0;
  color:var(--muted);
  font-size:1rem;
}
#status {
  margin-top:8px;
  font-weight:600;
  color:var(--accent);
}
.panel {
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:24px;
  margin:20px 0;
  box-shadow:var(--shadow);
}
h2 {
  margin:0 0 16px;
  font-size:1.25rem;
  letter-spacing:0.01em;
  color:#fff;
}
.stack {
  display:flex;
  flex-direction:column;
  gap:12px;
}
.channel-grid {
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.channel-btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  flex:1 1 calc(50% - 12px);
  min-width:180px;
  border-radius:12px;
  padding:14px 18px;
  background:var(--control-bg-light);
  color:var(--text);
  border:1px solid var(--border);
  font-weight:600;
  box-shadow:0 12px 24px rgba(232,85,120,0.15);
  transition:transform .2s ease, box-shadow .2s ease, border .2s ease, color .2s ease;
}
.channel-btn:hover {
  border-color:var(--accent);
  color:#fff;
  transform:translateY(-2px);
  box-shadow:0 18px 32px rgba(232,85,120,0.28);
}
.channel-btn:active {
  transform:translateY(0);
  box-shadow:0 10px 20px rgba(0,0,0,0.24);
}
.small {
  color:var(--muted);
  font-size:0.9rem;
  line-height:1.5;
}
.row {
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  align-items:center;
}
.btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:12px 16px;
  border-radius:10px;
  background:var(--control-bg);
  color:var(--text);
  border:1px solid var(--border);
  font-weight:500;
  transition:background .2s ease, color .2s ease, border .2s ease;
}
.btn:hover {
  background:var(--control-bg-light);
  border-color:var(--accent);
  color:#fff;
}
#bots {
  display:flex;
  flex-wrap:wrap;
  gap:12px;
}
.bot-btn {
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding:14px 18px;
  border-radius:12px;
  background:var(--control-bg-light);
  color:var(--text);
  border:1px solid var(--border);
  font-weight:600;
  flex:1 1 calc(50% - 12px);
  min-width:180px;
  box-shadow:0 12px 24px rgba(232,85,120,0.15);
  transition:transform .2s ease, box-shadow .2s ease, border .2s ease, color .2s ease;
}
.bot-btn:hover {
  border-color:var(--accent);
  color:#fff;
  transform:translateY(-2px);
  box-shadow:0 18px 32px rgba(232,85,120,0.28);
}
.bot-btn:active {
  transform:translateY(0);
  box-shadow:0 10px 20px rgba(0,0,0,0.24);
}
#channelsHint, #copyHint {
  margin-top:12px;
  color:var(--muted);
}
#updates {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:10px;
}
#updates li {
  background:var(--panel-alt);
  border:1px solid var(--border);
  border-radius:12px;
  padding:14px 18px;
  color:var(--muted);
  font-size:0.95rem;
}
#legalItems {
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:8px;
  color:var(--muted);
}
#legalItems li {
  position:relative;
  padding-left:22px;
}
#legalItems li::before {
  content:'•';
  position:absolute;
  left:6px;
  color:var(--accent);
  font-size:1.2rem;
  line-height:1;
}
footer {
  margin-top:32px;
  text-align:center;
  color:var(--muted);
  font-size:0.9rem;
}
#age {
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
  background:rgba(10,12,15,0.92);
  backdrop-filter:blur(12px);
  z-index:1000;
}
.hide { display:none !important; }
#age .box {
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:18px;
  padding:28px;
  box-shadow:var(--shadow);
}
#ageYes {
  margin-top:12px;
}
ol {
  list-style:none;
  margin:0;
  padding:0;
  color:var(--muted);
  display:flex;
  flex-direction:column;
  gap:10px;
  counter-reset:step;
}
ol li {
  position:relative;
  padding-left:28px;
}
ol li::before {
  content:counter(step);
  counter-increment:step;
  position:absolute;
  left:0;
  top:2px;
  width:22px;
  height:22px;
  border-radius:50%;
  background:rgba(232,85,120,0.18);
  color:var(--accent);
  font-weight:600;
  font-size:0.85rem;
  display:flex;
  align-items:center;
  justify-content:center;
}
@media (max-width:600px) {
  .wrap { padding:28px 20px 48px; }
  #brand { font-size:2rem; }
  .panel { padding:20px; }
}
</style></style>
  </head>
  <body>
    <div id="age" class="age">
      <div class="box">
        <h2 id="ageTitle" style="margin:0 0 8px;font-size:18px">Halaman 18+</h2>
        <p id="ageText" class="small" style="margin:0 0 12px">Dengan lanjut, lo nyatakan umur 18+ dan setuju sama aturan halaman ini.</p>
        <a href="#" id="ageYes" class="cta" style="display:block">Gue 18+ (Lanjut)</a>
      </div>
    </div>

    <main class="wrap">
      <header>
        <img id="logo" src="logo.svg" alt="Lust to Death logo" />
        <h1 id="brand">Lust to Death</h1>
        <p id="tagline1" class="sub">Pusat Info Resmi (18+)</p>
        <p id="tagline2" class="sub">Kalo channel lagi pindah/kena report, link terbaru SELALU ada di sini.</p>
        <div id="status" class="status"></div>
      </header>

      <section class="panel">
        <h2 id="channelsTitle">Channel Resmi</h2>
        <div id="channels" class="channel-grid"></div>
        <div id="channelsHint" class="small" style="margin-top:8px">Semua link channel aktif. Pilih yang paling cocok buat kamu.</div>
      </section>

      <section class="panel" id="copyTools" style="display:none">
        <div class="row" style="margin-top:8px">
          <a id="copy" class="btn" href="#">Salin Link</a>
          <span id="toast" class="small" aria-live="polite"></span>
        </div>
        <div id="copyHint" class="muted small" style="margin-top:8px">Tips: abis klik "Salin Link", buka Telegram terus tempel link-nya di search/browser Telegram.</div>
      </section>

      <section class="panel">
        <h2 id="joinTitle">Cara Join (3 langkah)</h2>
        <ol id="joinSteps"></ol>
      </section>

      <section class="panel">
        <h2 id="botsTitle">Bot Resmi</h2>
        <div id="bots" class="row" style="flex-wrap: wrap"></div>
        <div id="botsHint" class="small" style="margin-top:8px">Cara pakai: Klik Mulai → pilih menu → ikutin instruksi. Gampang kok. Kalo satu lagi rewel, cobain bot lain.</div>
      </section>

      <section class="panel">
        <h2 id="updatesTitle">Update Terbaru</h2>
        <ul id="updates"></ul>
      </section>

      <section class="panel">
        <h2 id="legalTitle">Legal / 18+</h2>
        <ul id="legalItems" class="small"></ul>
      </section>

      <footer id="footerText" class="small">
        Simpen halaman ini biar gampang dicari kalo channel pindah. Stay safe, hormati rules platform.
      </footer>
    </main>

    <script>
      // Age gate
      (function(){
        var ok = localStorage.getItem('age-ok');
        var age = document.getElementById('age');
        if (ok === '1') age.classList.add('hide');
        var btn = document.getElementById('ageYes');
  if (btn) {
    btn.addEventListener('click', function(e){
      e.preventDefault();
      localStorage.setItem('age-ok','1');
      age.classList.add('hide');
      setTimeout(function(){ age.remove(); }, 200);
    });
  }
      })();

      // Logo: show only if file exists (svg -> png -> jpg)
      (function(){
        var logo = document.getElementById('logo');
        function show(){ logo.style.display='block'; }
        function tryNext(list, idx){
          if (idx >= list.length) return; 
          fetch(list[idx], {method:'HEAD'}).then(function(r){
            if (r.ok) { logo.src = list[idx]; show(); }
            else { tryNext(list, idx+1); }
          }).catch(function(){ tryNext(list, idx+1); });
        }
        tryNext(['logo.svg','logo.png','logo.jpg'], 0);
      })();

      // Load updates.json and wire UI
      (async function(){
        try{
          var res = await fetch('updates.json', {cache:'no-store'});
          var data = await res.json();

          var latest = data.latestLink || '#';
          var mirrors = data.mirrors || [];
          var status = data.status || 'Status Channel: AKTIF';
          var bot = data.bot || null;
          var brand = data.brand || 'Lust to Death';

          // Brand in title and header
          document.getElementById('brand').textContent = brand;

          var fallbackCopy = {
            ageTitle: 'Halaman 18+',
            ageText: 'Dengan lanjut, lo nyatakan umur 18+ dan setuju sama aturan halaman ini.',
            ageButton: 'Gue 18+ (Lanjut)',
            taglines: [
              'Lust to Death — pusat kanal resmi',
              'Kalau channel lagi pindah, info barunya selalu ada di sini.'
            ],
            channelsTitle: 'Channel Resmi',
            channelsHint: 'Semua link channel aktif.',
            copyHint: 'Tips: abis klik "Salin Link", buka Telegram terus tempel link-nya di search/browser Telegram.',
            joinTitle: 'Cara Join (2 langkah)',
            joinSteps: [
              'Pilih salah satu channel resmi di atas.',
              'Buka link di Telegram lalu pencet "Join/Bergabung".'
            ],
            botsTitle: 'Bot Resmi',
            botsHint: 'Klik Mulai → pilih menu → ikutin instruksi. Kalo lagi rewel, coba bot lainnya.',
            updatesTitle: 'Update Terbaru',
            legalTitle: 'Legal / 18+',
            legalItems: [
              '18+ ONLY. Bukan untuk yang di bawah 18.',
              'Konten legal dan konsensual. Ini cuma pusat info/link.',
              'Kalo ada masalah/DMCA, hubungi kami via bot.'
            ],
            footer: 'Simpen halaman ini biar gampang dicari. Stay safe dan hormati rules platform.'
          };
          var copy = data.copy || {};
          var setText = function(id, value) {
            var el = document.getElementById(id);
            if (!el) return;
            if (value === null || value === undefined) {
              el.textContent = '';
              el.style.display = 'none';
              return;
            }
            var str = typeof value === 'string' ? value.trim() : String(value);
            if (str) {
              el.textContent = str;
              el.style.display = '';
            } else {
              el.textContent = '';
              el.style.display = 'none';
            }
          };
          var pick = function(key, fallbackKey) {
            var val = copy[key];
            if (val === undefined || val === null) return fallbackCopy[fallbackKey || key];
            if (typeof val === 'string' && val.trim() === '') return fallbackCopy[fallbackKey || key];
            return val;
          };
          var taglines = Array.isArray(copy.taglines) && copy.taglines.length ? copy.taglines : fallbackCopy.taglines;
          setText('tagline1', taglines[0] || '');
          setText('tagline2', taglines[1] || '');

          document.title = brand + ' — ' + (taglines[0] || 'Pusat Info Resmi (18+)');

          setText('ageTitle', pick('ageTitle'));
          setText('ageText', pick('ageText'));
          setText('channelsTitle', pick('channelsTitle'));
          setText('channelsHint', pick('channelsHint'));
          setText('copyHint', pick('copyHint'));
          setText('joinTitle', pick('joinTitle'));
          setText('botsTitle', pick('botsTitle'));
          setText('botsHint', pick('botsHint'));
          setText('updatesTitle', pick('updatesTitle'));
          setText('legalTitle', pick('legalTitle'));
          setText('footerText', pick('footer'));
          var ageBtn = document.getElementById('ageYes');
          if (ageBtn) {
            ageBtn.textContent = pick('ageButton');
          }

          document.getElementById('status').textContent = status;

          var channelsData = [];
          if (Array.isArray(data.channels) && data.channels.length) {
            channelsData = data.channels;
          } else {
            channelsData = [latest].concat(Array.isArray(mirrors) ? mirrors : []);
          }
          channelsData = channelsData.filter(Boolean);
          var channelWrap = document.getElementById('channels');
          if (channelWrap) {
            channelWrap.innerHTML = '';
            if (!channelsData.length) {
              channelWrap.parentElement.style.display = 'none';
            } else {
              channelsData.forEach(function(url, idx){
                var a = document.createElement('a');
                a.className = 'channel-btn';
                a.href = url;
                a.rel = 'noopener';
                var label = (data.channelNames && data.channelNames[idx]) ? data.channelNames[idx] : null;
                if (!label) {
                  try {
                    var u = new URL(url);
                    var handle = u.pathname.replace(/\/+/, '').trim();
                    label = handle ? '@' + handle : ('Channel ' + (idx + 1));
                  } catch (e) {
                    label = 'Channel ' + (idx + 1);
                  }
                }
                a.textContent = label;
                channelWrap.appendChild(a);
              });
            }
          }
          var copySection = document.getElementById('copyTools');
          var copyBtn = document.getElementById('copy');
          var toast = document.getElementById('toast');
          if (copySection && copyBtn) {
            if (channelsData.length) {
              copySection.style.display = '';
              var targetLink = channelsData[0];
              copyBtn.onclick = async function(e){
                e.preventDefault();
                try {
                  await navigator.clipboard.writeText(targetLink);
                  if (toast) toast.textContent = 'Link disalin! Tinggal tempel di Telegram.';
                } catch (err) {
                  if (toast) toast.textContent = 'Gagal nyalin. Klik kanan → Copy Link.';
                }
                if (toast) setTimeout(function(){ toast.textContent=''; }, 1800);
              };
            } else {
              copySection.style.display = 'none';
            }
          }

          var steps = Array.isArray(copy.joinSteps) && copy.joinSteps.length ? copy.joinSteps : fallbackCopy.joinSteps;
          var stepsEl = document.getElementById('joinSteps');
          if (stepsEl) {
            stepsEl.innerHTML = '';
            steps.forEach(function(step){
              var li = document.createElement('li');
              li.textContent = step;
              stepsEl.appendChild(li);
            });
          }

          var legal = Array.isArray(copy.legalItems) && copy.legalItems.length ? copy.legalItems : fallbackCopy.legalItems;
          var legalEl = document.getElementById('legalItems');
          if (legalEl) {
            legalEl.innerHTML = '';
            legal.forEach(function(item){
              var li = document.createElement('li');
              li.textContent = item;
              legalEl.appendChild(li);
            });
          }

          var toast = document.getElementById('toast');

          // Bots (multi)
          var bots = Array.isArray(data.bots) ? data.bots : (bot ? [bot] : []);
          var botsWrap = document.getElementById('bots');
          if (botsWrap) {
            if (bots.length === 0) {
              botsWrap.parentElement.style.display = 'none';
            } else {
              bots.forEach(function(url, idx){
                var a = document.createElement('a');
                a.className = 'bot-btn';
                a.href = url;
                a.rel = 'noopener';
                // Label: pakai handle dari URL atau Bot 1/2/3
                try {
                  var u = new URL(url);
                  var handle = u.pathname.replace(/\/+/, '').trim();
                  a.textContent = handle ? '@' + handle : ('Bot ' + (idx+1));
                } catch (e) {
                  a.textContent = 'Bot ' + (idx+1);
                }
                botsWrap.appendChild(a);
              });
            }
          }

          // Updates list
          var list = document.getElementById('updates');
          (data.updates||[]).slice(0,8).forEach(function(u){
            var li = document.createElement('li');
            var whenText = '';
            if (u.ts) {
              var dt = new Date(u.ts);
              if (!isNaN(dt)) {
                whenText = dt.toLocaleDateString('id-ID', { timeZone: 'Asia/Jakarta', day: '2-digit', month: 'long', year: 'numeric' });
              }
            }
            li.textContent = (whenText ? ('[' + whenText + '] ') : '') + (u.text || '');
            list.appendChild(li);
          });
        }catch(e){
          document.getElementById('status').textContent = 'Lagi nyambungin data… kalo lama, refresh ya.';
        }
      })();
    </script>
  </body>
</html>
